{% extends 'base.html.twig' %}

{% block title %}Liste des Employés{% endblock %}

{% block body %}
<h1>Liste des Employés</h1>
<a href="{{ path('new_employe') }}">Ajouter un employé</a>

<table style="border-collapse: collapse; width: 100%; border: 1px solid black;">
    <tr style="background-color: gray;">
        <th style="border: 1px solid black;">Nom</th>
        <th style="border: 1px solid black;">Poste</th>
        <th style="border: 1px solid black;">Photo</th>
        <th style="border: 1px solid black;">Actions</th>
    </tr>
    {% for employe in employes %}
    <tr>
        <td style="border: 1px solid black;">{{ employe.nom }}</td>
        <td style="border: 1px solid black;">{{ employe.poste }}</td>
        <td style="border: 1px solid black;">
            {% if employe.photo %}
            <img src="{{ asset('uploads/photos/' ~ employe.photo) }}" alt="Photo de {{ employe.nom }}" width="50">
            {% else %}
            Pas de photo
            {% endif %}
        </td>
        <td style="border: 1px solid black;">
            <a href="{{ path('employe_show', {'id': employe.id}) }}">Voir</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
